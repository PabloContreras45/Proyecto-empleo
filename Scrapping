from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from time import sleep
# Iniciamos el driver de Chrome para acceder a este
driver = webdriver.Chrome()

# Navegamos a la página web
driver.get("https://www.jobleads.com/es")

# Aceptamos el banner de coookies
accept_cookies_button = WebDriverWait(driver, 10).until(
    EC.element_to_be_clickable((By.XPATH, '//button[contains(text(), "Aceptar")]'))  # Modifica el XPATH según sea necesario
)

# Hacemos clic en el botón de "Aceptar cookies"
accept_cookies_button.click()

# Encontramos el botón de iniciar sesión y hacemos click
login_button = driver.find_element(By.XPATH, '//*[@id="__nuxt"]/div[1]/div[1]/div[1]/div/div/div[2]/button')
login_button.click()

# Esperamos hasta que el campo de correo electrónico esté presente
email_input = WebDriverWait(driver, 5).until(
    EC.presence_of_element_located((By.XPATH, '//input[@type="email" and @data-testid="login-form-email-field-ui-input"]'))
)
email_input.send_keys("cakapa61@gmail.com")

password_input = WebDriverWait(driver, 3).until(
    EC.presence_of_element_located((By.XPATH, '//input[@type="password" and @data-testid="login-form-password-field-ui-input"]'))  # Cambia el data-testid si es necesario
)
# Ingresa la contraseña
password_input.send_keys("DaB01.proyecto")

# Si tienes un botón de inicio de sesión, puedes hacer clic en él
login_button = WebDriverWait(driver, 3).until(
    EC.element_to_be_clickable((By.XPATH, '/html/body/div[4]/div/div/form/div[3]/button'))  # Cambia el texto si es necesario
)
login_button.click()

